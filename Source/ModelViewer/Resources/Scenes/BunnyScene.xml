<?xml version="1.0"?>
<Scene name="TriangleScene">
  <ViewerCamera name="MainCamera">
    <Projection type="frustum" aspect="auto" disparity="0.2" zero="2.0">
      <Volume near="1.0" far="10.0" left="-0.5" right="0.5" top="0.5" bottom="-0.5"/>
    </Projection>
    <RenderSlots>
      <Slot layer="0" pass="MainPass" stereo="mono">
        <Frame name="MonoFrame">
          <Buffer format="rgba" texture="MonoTexture" min="linear" mag="linear"/>
          <Buffer format="depth"/>
        </Frame>
        <ClearState depth="1.0">
          <Color0>0.5, 0.5, 0.5, 1.0</Color0>
        </ClearState>
      </Slot>
      <Slot layer="1" stereo="mono">
        <Material name="MonoTextureMaterial">
          <Shader name="TextureShader">
            <Vertex function="SimpleVertexUV"/>
            <Fragment function="SimpleTexture"/>
          </Shader>
          <TextureMap>
            <Texture name="MonoTexture" min="linear" mag="linear"/>
          </TextureMap>
        </Material>
        <ClearState>
          <Color0>0.0, 0.0, 0.0, 1.0</Color0>
        </ClearState>
        <Mesh name="FullQuad" primitive="strip">
          <Buffer attribute="Position" components="4">
            -1.0,  1.0, 0.5, 1.0,
            1.0,  1.0, 0.5, 1.0,
            -1.0, -1.0, 0.5, 1.0,
            1.0, -1.0, 0.5, 1.0,
          </Buffer>
          <Buffer attribute="UV_0" components="2">
            0.0, 1.0,
            1.0, 1.0,
            0.0, 0.0,
            1.0, 0.0,
          </Buffer>
        </Mesh>
      </Slot>
      
      <Slot layer="0" pass="MainPass" stereo="left">
        <Frame name="LeftFrame" width="1024" height="1024">
          <Buffer format="rgba" texture="LeftTexture" min="linear" mag="linear"/>
          <Buffer format="depth"/>
        </Frame>
        <ClearState depth="1.0">
          <Color0>0.5, 0.5, 0.5, 1.0</Color0>
        </ClearState>
      </Slot>
      <Slot layer="1" pass="MainPass" stereo="right">
        <Frame name="RightFrame" width="1024" height="1024">
          <Buffer format="rgba" texture="RightTexture" min="linear" mag="linear"/>
          <Buffer format="depth"/>
        </Frame>
        <ClearState depth="1.0">
          <Color0>0.5, 0.5, 0.5, 1.0</Color0>
        </ClearState>
      </Slot>
      
      <Slot layer="2" pass="StereoPass" stereo="binary">
        <ClearState>
          <Color0>0.0, 0.0, 0.0, 1.0</Color0>
        </ClearState>
      </Slot>
      
      <Slot pass="StereoPass" stereo="left">
        <Material name="LeftTextureMaterial" shader="TextureShader">
          <TextureMap>
            <Texture name="LeftTexture" min="linear" mag="linear"/>
          </TextureMap>
        </Material>
        <Mesh name="LeftQuad" primitive="strip">
          <Buffer attribute="Position" components="4">
            -1.0,  1.0, 0.5, 1.0,
            0.0,  1.0, 0.5, 1.0,
            -1.0, -1.0, 0.5, 1.0,
            0.0, -1.0, 0.5, 1.0,
          </Buffer>
          <Buffer attribute="UV_0" components="2">
            0.0, 1.0,
            1.0, 1.0,
            0.0, 0.0,
            1.0, 0.0,
          </Buffer>
        </Mesh>
      </Slot>
      <Slot pass="StereoPass" stereo="right">
        <Material name="RightTextureMaterial" shader="TextureShader">
          <TextureMap>
            <Texture name="RightTexture" min="linear" mag="linear"/>
          </TextureMap>
        </Material>
        <Mesh name="RightQuad" primitive="strip">
          <Buffer attribute="Position" components="4">
            0.0,  1.0, 0.5, 1.0,
            1.0,  1.0, 0.5, 1.0,
            0.0, -1.0, 0.5, 1.0,
            1.0, -1.0, 0.5, 1.0,
          </Buffer>
          <Buffer attribute="UV_0" components="2">
            0.0, 1.0,
            1.0, 1.0,
            0.0, 0.0,
            1.0, 0.0,
          </Buffer>
        </Mesh>
      </Slot>
    </RenderSlots>
  </ViewerCamera>
  <Model name="Triangle">
    <Transform>
      <Scale>0.2, 0.2, 0.2</Scale>
      <Euler>90.0, 0.0, 0.0</Euler>
      <Translate>0.0, -0.2, 0.0</Translate>
    </Transform>
    <RenderSlots>
      <Slot layer="0" pass="MainPass">
        <Mesh name="BunnyMesh" file="bunny.mesh"/>
        <DepthState write="true" function="less"/>
        <Material>
          <Shader name="DirectLightShader">
            <Vertex function="SimpleNormal"/>
            <Fragment function="DirectLight"/>
          </Shader>
          <UniformMap>
            <Uniform name="Color" type="vec4">0.2, 0.2, 0.9, 1.0</Uniform>
          </UniformMap>
        </Material>
      </Slot>
    </RenderSlots>
  </Model>
</Scene>